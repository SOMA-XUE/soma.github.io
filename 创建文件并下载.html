<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <a href="#" id="downloadOperatorReport"><span data-reactid="47" style="color: #1AB9BB">导出报告</span></a>
        <!--         <a href="#" id="downloadOperatorReport">
                        <button type="button" class="ant-btn SQp-w ant-btn-primary ant-btn-lg" data-reactid="45">
                                <i class="anticon anticon-download" data-reactid="46"> </i>
                                <span data-reactid="47" style="color: #1AB9BB">导出报告</span>
                         </button>
                    </a> -->
    </div>
        
        
    <script>
        // $(function () {
        function fake_click(obj) {
            var ev = document.createEvent("MouseEvents");
            ev.initMouseEvent(
                "click", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null
            );
            obj.dispatchEvent(ev);

        }
        function export_raw(name, data) {

            var appName = 'download';
            var urlObject = window.URL || window.webkitURL || window;
            var export_blob = new Blob([data], {type: 'applicaton/html'});
            // 创建a标签，需要添加属性download（文件名），href（url，createObjectURL（blob对象））
            var save_link = document.createElementNS("http://www.w3.org/1999/xhtml", "a");
            if (isFirefox = navigator.userAgent.indexOf("Firefox") > 0 || navigator.userAgent.indexOf("MSIE") > 0) {
                save_link.href = urlObject.createObjectURL(export_blob);
                save_link.download = "运营商报告" + appName + ".html";
            } else {
                save_link.href = urlObject.createObjectURL(export_blob);
                save_link.download = "运营商报告" + appName + ".html";
            }

            fake_click(save_link);
        }

        var content = document.getElementsByTagName('html')[0].outerHTML;
        // var appUserId = $("#appUserId").val();
        var url = '//www.sdo.com'
        console.log(content);
        // $("#downloadOperatorReport").click(function () {
        //     export_raw(url, content);
        // });
        document.querySelector('#downloadOperatorReport').addEventListener('click', () => {
            export_raw(url, content);

        })
    </script>

</body>
</html>